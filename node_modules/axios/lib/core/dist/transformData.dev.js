'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = transformData;

var _utils = _interopRequireDefault(require("./../utils.js"));

var _index = _interopRequireDefault(require("../defaults/index.js"));

var _AxiosHeaders = _interopRequireDefault(require("../core/AxiosHeaders.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/**
 * Transform the data for a request or a response
 *
 * @param {Array|Function} fns A single function or Array of functions
 * @param {?Object} response The response object
 *
 * @returns {*} The resulting transformed data
 */
function transformData(fns, response) {
  var config = this || _index["default"];
  var context = response || config;

  var headers = _AxiosHeaders["default"].from(context.headers);

  var data = context.data;

  _utils["default"].forEach(fns, function transform(fn) {
    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);
  });

  headers.normalize();
  return data;
}